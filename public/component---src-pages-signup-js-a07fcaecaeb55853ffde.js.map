{"version":3,"sources":["webpack:///./src/pages/signup.js"],"names":["Card","styled","div","Title","h1","Tabs","Tab","props","active","RedirectText","h2","ErrorText","p","Form","form","SubmitButton","Button","Input","TextField","Loader","LinearProgress","SignupPage","useContext","AuthContext","signedIn","auth","useState","loading","setLoading","showForm","setShowForm","message","setMessage","error","setError","window","location","pathname","replace","activeTab","setActiveTab","email","setEmail","name","setName","password","setPassword","confirm","setConfirm","style","backgroundImage","headerImage","position","top","transform","zIndex","height","width","opacity","backgroundRepeat","fullHeight","background","variant","color","onClick","onSubmit","e","preventDefault","data","signup","then","response","console","log","setTimeout","catch","err","login","breakpoints","spacing","widths","id","type","fullWidth","placeholder","margin","label","value","onChange","target","right"],"mappings":"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","file":"component---src-pages-signup-js-a07fcaecaeb55853ffde.js","sourcesContent":["/* eslint-disable react/jsx-fragments */\nimport React, { useState, useContext } from 'react';\nimport styled from 'styled-components';\nimport TextField from '@material-ui/core/TextField';\nimport { withStyles, LinearProgress } from '@material-ui/core';\nimport { Link } from 'gatsby';\nimport headerImage from '../images/hero.png';\nimport Button from '../components/Button';\nimport Row from '../components/grid/row';\nimport { AuthContext } from '../auth/AuthProvider';\nimport Layout from '../components/layout/layout';\nimport Section from '../components/layout/Section';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\n\n// Instantiate the GoTrue auth client with an optional configuration\n\nconst SignupPage = () => {\n  const { signedIn, auth } = useContext(AuthContext);\n  const [loading, setLoading] = useState(false);\n  const [showForm, setShowForm] = useState(true);\n  const [message, setMessage] = useState('Processing...');\n  const [error, setError] = useState(false);\n  const [activeTab, setActiveTab] = useState(\n    typeof window !== 'undefined' && window.location.pathname.replace('/', '')\n  );\n\n  if (signedIn) {\n    setMessage('Success. Redirecting to the homepage.');\n  }\n\n  const [email, setEmail] = useState('');\n  const [name, setName] = useState('');\n  const [password, setPassword] = useState('');\n  const [confirm, setConfirm] = useState('');\n\n  const onNameInputChange = (e) => {\n    setName(e.target.value);\n  };\n\n  const onPasswordInputChange = (e) => {\n    setPassword(e.target.value);\n  };\n\n  const onConfirmInputChange = (e) => {\n    setConfirm(e.target.value);\n  };\n\n  const onEmailInputChange = (e) => {\n    setEmail(e.target.value);\n  };\n\n  const handleSignup = (e) => {\n    e.preventDefault();\n\n    const data = {\n      name,\n    };\n\n    setLoading(true);\n    setShowForm(false);\n\n    auth\n      .signup(email, password, data)\n      .then((response) => {\n        console.log(response);\n\n        setTimeout(() => {\n          setMessage(\n            \"We've sent a confirmation email to you. Please open it and click the link to verify your account.\"\n          );\n          setLoading(false);\n        }, 1250);\n      })\n      .catch((err) => {\n        console.log('Error: ', err);\n        setLoading(false);\n        setShowForm(true);\n        setError(true);\n        setMessage('There is already an account associated with this email.');\n      });\n\n    // setTimeout(() => {\n    //   window.location.pathname = '/';\n    // }, 1500);\n  };\n\n  const handleLogin = (e) => {\n    e.preventDefault();\n\n    setLoading(true);\n    setShowForm(false);\n    setMessage('Processing...');\n\n    auth\n      .login(email, password, true)\n      .then((response) => {\n        console.log(response);\n\n        setTimeout(() => {\n          setMessage('Success! Redirecting to your dashboard...');\n        }, 1250);\n        setTimeout(() => {\n          window.location.pathname = '/';\n        }, 750);\n      })\n      .catch((err) => {\n        console.log('Error: ', err);\n        setLoading(false);\n        setShowForm(true);\n        setError(true);\n        setMessage('Incorrect username or password.');\n      });\n\n    // setTimeout(() => {\n    //   window.location.pathname = '/';\n    // }, 1500);\n  };\n\n  // if (error) {\n  //   return (\n  //     <Wrapper className='container section'>\n  //       <Card>\n  //         <RedirectText>{errorMessage}</RedirectText>\n  //       </Card>\n  //     </Wrapper>\n  //   );\n  // }\n\n  return (\n    <>\n      <div\n        style={{\n          backgroundImage: `url(${headerImage})`,\n          position: 'absolute',\n          top: 0,\n          transform: 'rotate(180deg)',\n          zIndex: -1,\n          height: '100vh',\n          width: '100%',\n          opacity: 1,\n          backgroundRepeat: 'repeat',\n        }}\n      />\n      {/* <div\n        style={{\n          background: '#e8e8e820',\n          position: 'absolute',\n          top: 0,\n          transform: 'rotate(180deg)',\n          zIndex: -1,\n          height: '100vh',\n          width: '100%',\n          opacity: 1,\n          backgroundRepeat: 'repeat',\n        }}\n      /> */}\n      <>\n        <Section fullHeight background='transparent'>\n          {!showForm ? (\n            <Card>\n              <RedirectText>{message}</RedirectText>\n              {loading && (\n                <>\n                  {/* <span>{message}</span> */}\n                  <Loader color='primary' />\n                </>\n              )}\n            </Card>\n          ) : (\n            <>\n              {signedIn ? (\n                <Card>\n                  <h2>You're already signed in! ðŸŽ‰</h2>\n                  <p>Click the button to start exploring!</p>\n                  <Button variant='contained' color='primary'>\n                    Let's Go\n                  </Button>\n                </Card>\n              ) : (\n                <>\n                  <Card>\n                    <Title>\n                      {typeof window !== 'undefined'\n                        ? window.location.pathname\n                        : 'NO WINDOW'}\n                    </Title>\n                    <Tabs>\n                      <Tab\n                        onClick={() => setActiveTab('login')}\n                        active={activeTab === 'login'}\n                      >\n                        Login\n                      </Tab>\n                      <Tab\n                        onClick={() => setActiveTab('signup')}\n                        active={activeTab === 'signup'}\n                      >\n                        Signup\n                      </Tab>\n                    </Tabs>\n                    {error && <ErrorText>{message}</ErrorText>}\n                    <Form\n                      onSubmit={\n                        activeTab === 'signup' ? handleSignup : handleLogin\n                      }\n                    >\n                      <Row breakpoints={[769]} spacing={[12, 8]}>\n                        {activeTab === 'signup' && (\n                          <div widths={[12]}>\n                            <Input\n                              id='name'\n                              type='text'\n                              fullWidth\n                              placeholder='Name'\n                              variant='outlined'\n                              margin='dense'\n                              label='Name'\n                              value={name}\n                              onChange={onNameInputChange}\n                            />\n                          </div>\n                        )}\n                        <div widths={[12]}>\n                          {' '}\n                          <Input\n                            id='email'\n                            type='text'\n                            fullWidth\n                            placeholder='Email'\n                            variant='outlined'\n                            margin='dense'\n                            label='Email'\n                            value={email}\n                            onChange={onEmailInputChange}\n                          />\n                        </div>\n                        <div widths={[12]}>\n                          {' '}\n                          <Input\n                            id='password'\n                            type='password'\n                            fullWidth\n                            placeholder='Password'\n                            variant='outlined'\n                            margin='dense'\n                            label='Password'\n                            value={password}\n                            onChange={onPasswordInputChange}\n                          />\n                        </div>\n                        {activeTab === 'signup' && (\n                          <div widths={[12]}>\n                            {' '}\n                            <Input\n                              id='password-reenter'\n                              type='password'\n                              fullWidth\n                              placeholder='Verify Password'\n                              variant='outlined'\n                              margin='dense'\n                              label='Verify Password'\n                              value={confirm}\n                              onChange={onConfirmInputChange}\n                            />\n                          </div>\n                        )}\n                        <div widths={[12]}>\n                          {' '}\n                          <SubmitButton right type='submit'>\n                            {activeTab === 'signup' ? 'Sign Up' : 'Log In'}\n                          </SubmitButton>\n                        </div>\n                      </Row>\n                    </Form>\n                  </Card>\n                </>\n              )}\n            </>\n          )}\n        </Section>\n      </>\n    </>\n  );\n};\n\nconst Card = styled.div`\n  padding: 18px 24px;\n  width: 100%;\n  border-radius: 3px;\n  box-shadow: 1px 0px 80px -5px #e8e8e8;\n  backdrop-filter: blur(6px);\n  background: white;\n  border: 1px solid #e8e8e8;\n  margin: 0 auto;\n  max-width: 360px;\n`;\n\nconst Title = styled.h1`\n  color: rgb(81, 160, 249);\n  margin: 16px auto;\n  text-align: center;\n  font-size: 36px;\n  font-family: 'overpass', sans-serif !important;\n`;\n\nconst Tabs = styled.div`\n  width: 100%;\n  display: flex;\n`;\n\nconst Tab = styled.div`\n  width: 50%;\n  dipslay: inline-block;\n  text-align: center;\n  padding: 16px;\n  :hover {\n    border-bottom: 2px solid\n      ${(props) => (props.active ? 'rgb(25, 48, 92)' : '#e8e8e8')};\n    cursor: pointer;\n  }\n  border-bottom: 2px solid\n    ${(props) => (props.active ? 'rgb(25, 48, 92)' : '#f7f7f7')};\n`;\n\nconst RedirectText = styled.h2`\n  text-align: center;\n  margin: 0 auto;\n  width: fit-content;\n`;\n\nconst ErrorText = styled.p`\n  text-align: center;\n  margin: 0 auto;\n  width: 100%;\n  background: tomato;\n  color: white;\n  font-weight: 500;\n  font-size: 17px;\n  margin: 12px 0;\n`;\n\nconst Form = styled.form`\n  margin: 0;\n  padding-top: 24px;\n`;\n\nconst SubmitButton = styled(Button)``;\n\nconst Input = styled(TextField)`\n  margin: 0 !important;\n`;\n\nconst Info = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: flex-end;\n  margin-top: 16px;\n`;\n\nconst Loader = styled(LinearProgress)`\n  margin-top: 24px;\n`;\n\n// const FormWrapper = styled.div`\n//   width: 60%;\n//   margin: 0 auto;\n//   max-width: 540px;\n// `;\n\n// const Heading = styled.h1`\n//   text-align: center;\n// `;\n\nexport default SignupPage;\n"],"sourceRoot":""}